{"ast":null,"code":"import _createForOfIteratorHelper from\"F:/Web/C\\u1EDD T\\u01B0\\u1EDBng/front_end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper\";import _slicedToArray from\"F:/Web/C\\u1EDD T\\u01B0\\u1EDBng/front_end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _classCallCheck from\"F:/Web/C\\u1EDD T\\u01B0\\u1EDBng/front_end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"F:/Web/C\\u1EDD T\\u01B0\\u1EDBng/front_end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"F:/Web/C\\u1EDD T\\u01B0\\u1EDBng/front_end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"F:/Web/C\\u1EDD T\\u01B0\\u1EDBng/front_end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import Piece from\"./piece.js\";import cannonRules from\"./move_rules/cannonRules.js\";var Cannon=/*#__PURE__*/function(_Piece){_inherits(Cannon,_Piece);var _super=_createSuper(Cannon);function Cannon(width,row,col,name,choosenSide){var _this;_classCallCheck(this,Cannon);_this=_super.call(this,width,row,col,name,choosenSide);_this.moves=cannonRules;return _this;}_createClass(Cannon,[{key:\"canMoveToNewPosition\",value:function canMoveToNewPosition(newRow,newCol,board){var _this$position=_slicedToArray(this.position,2),curRow=_this$position[0],curCol=_this$position[1];var translateX=curCol*this.width,translateY=curRow*this.width;this.translate=\"translate(\".concat(translateX,\", \").concat(translateY,\")\");if(this.side===this.choosenSide[1]){var isValid=this.checkValidMove(newRow,newCol,board);if(isValid&&!/translate/.test(isValid)){if(!board[newRow][newCol].side){if(this.countPiecesBetween(newRow,newCol,board)===0)return true;}else if(board[newRow][newCol].side!==board[curRow][curCol].side)if(this.countPiecesBetween(newRow,newCol,board)===2)return\"capture\";}else if(isValid)return isValid;}return false;}},{key:\"canCaptureGeneral\",value:function canCaptureGeneral(tmpBoard){var _this$position2=_slicedToArray(this.position,2),curRow=_this$position2[0],curCol=_this$position2[1];var _iterator=_createForOfIteratorHelper(this.moves),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var move=_step.value;var newRow=curRow+move[0],newCol=curCol+move[1];if(newCol>=0&&newCol<9&&newRow>=0&&newRow<10){if(tmpBoard[newRow][newCol].side)if(tmpBoard[newRow][newCol].side!==tmpBoard[curRow][curCol].side)if(this.countPiecesBetween(newRow,newCol,tmpBoard)===2)if(tmpBoard[newRow][newCol].name.split(\"-\")[0]===\"general\"){return tmpBoard[newRow][newCol].translate;}}}}catch(err){_iterator.e(err);}finally{_iterator.f();}return false;}}]);return Cannon;}(Piece);export default Cannon;","map":{"version":3,"sources":["F:/Web/Cờ Tướng/front_end/src/pieces/cannon.js"],"names":["Piece","cannonRules","Cannon","width","row","col","name","choosenSide","moves","newRow","newCol","board","position","curRow","curCol","translateX","translateY","translate","side","isValid","checkValidMove","test","countPiecesBetween","tmpBoard","move","split"],"mappings":"k8BAAA,MAAOA,CAAAA,KAAP,KAAkB,YAAlB,CACA,MAAOC,CAAAA,WAAP,KAAwB,6BAAxB,C,GAEMC,CAAAA,M,wFACJ,gBAAYC,KAAZ,CAAmBC,GAAnB,CAAwBC,GAAxB,CAA6BC,IAA7B,CAAmCC,WAAnC,CAAgD,wCAC9C,uBAAMJ,KAAN,CAAaC,GAAb,CAAkBC,GAAlB,CAAuBC,IAAvB,CAA6BC,WAA7B,EACA,MAAKC,KAAL,CAAaP,WAAb,CAF8C,aAG/C,C,uDAED,8BAAqBQ,MAArB,CAA6BC,MAA7B,CAAqCC,KAArC,CAA4C,mCACjB,KAAKC,QADY,IACnCC,MADmC,mBAC3BC,MAD2B,sBAEnCC,CAAAA,UAFmC,CAERD,MAAM,CAAG,KAAKX,KAFN,CAEvBa,UAFuB,CAEaH,MAAM,CAAG,KAAKV,KAF3B,CAG1C,KAAKc,SAAL,qBAA8BF,UAA9B,cAA6CC,UAA7C,MACA,GAAI,KAAKE,IAAL,GAAc,KAAKX,WAAL,CAAiB,CAAjB,CAAlB,CAAuC,CACrC,GAAMY,CAAAA,OAAO,CAAG,KAAKC,cAAL,CAAoBX,MAApB,CAA4BC,MAA5B,CAAoCC,KAApC,CAAhB,CACA,GAAIQ,OAAO,EAAI,CAAC,YAAYE,IAAZ,CAAiBF,OAAjB,CAAhB,CAA2C,CACzC,GAAI,CAACR,KAAK,CAACF,MAAD,CAAL,CAAcC,MAAd,EAAsBQ,IAA3B,CAAiC,CAC/B,GAAI,KAAKI,kBAAL,CAAwBb,MAAxB,CAAgCC,MAAhC,CAAwCC,KAAxC,IAAmD,CAAvD,CAA0D,MAAO,KAAP,CAC3D,CAFD,IAEO,IAAIA,KAAK,CAACF,MAAD,CAAL,CAAcC,MAAd,EAAsBQ,IAAtB,GAA+BP,KAAK,CAACE,MAAD,CAAL,CAAcC,MAAd,EAAsBI,IAAzD,CACL,GAAI,KAAKI,kBAAL,CAAwBb,MAAxB,CAAgCC,MAAhC,CAAwCC,KAAxC,IAAmD,CAAvD,CACE,MAAO,SAAP,CACL,CAND,IAMO,IAAIQ,OAAJ,CAAa,MAAOA,CAAAA,OAAP,CACrB,CACD,MAAO,MAAP,CACD,C,iCAED,2BAAkBI,QAAlB,CAA4B,oCACD,KAAKX,QADJ,IACnBC,MADmB,oBACXC,MADW,6DAET,KAAKN,KAFI,YAE1B,+CAA6B,IAApBgB,CAAAA,IAAoB,gBACpBf,CAAAA,MADoB,CACDI,MAAM,CAAGW,IAAI,CAAC,CAAD,CADZ,CACZd,MADY,CACiBI,MAAM,CAAGU,IAAI,CAAC,CAAD,CAD9B,CAE3B,GAAId,MAAM,EAAI,CAAV,EAAeA,MAAM,CAAG,CAAxB,EAA6BD,MAAM,EAAI,CAAvC,EAA4CA,MAAM,CAAG,EAAzD,CAA6D,CAC3D,GAAIc,QAAQ,CAACd,MAAD,CAAR,CAAiBC,MAAjB,EAAyBQ,IAA7B,CACE,GAAIK,QAAQ,CAACd,MAAD,CAAR,CAAiBC,MAAjB,EAAyBQ,IAAzB,GAAkCK,QAAQ,CAACV,MAAD,CAAR,CAAiBC,MAAjB,EAAyBI,IAA/D,CACE,GAAI,KAAKI,kBAAL,CAAwBb,MAAxB,CAAgCC,MAAhC,CAAwCa,QAAxC,IAAsD,CAA1D,CACE,GAAIA,QAAQ,CAACd,MAAD,CAAR,CAAiBC,MAAjB,EAAyBJ,IAAzB,CAA8BmB,KAA9B,CAAoC,GAApC,EAAyC,CAAzC,IAAgD,SAApD,CAA+D,CAC7D,MAAOF,CAAAA,QAAQ,CAACd,MAAD,CAAR,CAAiBC,MAAjB,EAAyBO,SAAhC,CACD,CACR,CACF,CAZyB,qDAa1B,MAAO,MAAP,CACD,C,oBArCkBjB,K,EAwCrB,cAAeE,CAAAA,MAAf","sourcesContent":["import Piece from \"./piece.js\";\r\nimport cannonRules from \"./move_rules/cannonRules.js\";\r\n\r\nclass Cannon extends Piece {\r\n  constructor(width, row, col, name, choosenSide) {\r\n    super(width, row, col, name, choosenSide);\r\n    this.moves = cannonRules;\r\n  }\r\n\r\n  canMoveToNewPosition(newRow, newCol, board) {\r\n    const [curRow, curCol] = this.position;\r\n    const [translateX, translateY] = [curCol * this.width, curRow * this.width];\r\n    this.translate = `translate(${translateX}, ${translateY})`;\r\n    if (this.side === this.choosenSide[1]) {\r\n      const isValid = this.checkValidMove(newRow, newCol, board);\r\n      if (isValid && !/translate/.test(isValid)) {\r\n        if (!board[newRow][newCol].side) {\r\n          if (this.countPiecesBetween(newRow, newCol, board) === 0) return true;\r\n        } else if (board[newRow][newCol].side !== board[curRow][curCol].side)\r\n          if (this.countPiecesBetween(newRow, newCol, board) === 2)\r\n            return \"capture\";\r\n      } else if (isValid) return isValid;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  canCaptureGeneral(tmpBoard) {\r\n    const [curRow, curCol] = this.position;\r\n    for (let move of this.moves) {\r\n      const [newRow, newCol] = [curRow + move[0], curCol + move[1]];\r\n      if (newCol >= 0 && newCol < 9 && newRow >= 0 && newRow < 10) {\r\n        if (tmpBoard[newRow][newCol].side)\r\n          if (tmpBoard[newRow][newCol].side !== tmpBoard[curRow][curCol].side)\r\n            if (this.countPiecesBetween(newRow, newCol, tmpBoard) === 2)\r\n              if (tmpBoard[newRow][newCol].name.split(\"-\")[0] === \"general\") {\r\n                return tmpBoard[newRow][newCol].translate;\r\n              }\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n}\r\n\r\nexport default Cannon;\r\n"]},"metadata":{},"sourceType":"module"}