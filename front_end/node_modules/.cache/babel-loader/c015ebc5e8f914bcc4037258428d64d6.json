{"ast":null,"code":"import React,{useContext}from\"react\";import{SocketContext}from\"../../../App/context.js\";import{Col,Button}from\"react-bootstrap\";import\"./GameBar.scss\";import ChatSection from\"./ChatSection/ChatSection.jsx\";import{useDispatch,useSelector}from\"react-redux\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var GameBar=function GameBar(props){var dispatch=useDispatch();var receiveDrawOffer=useSelector(function(state){return state.gameState.receiveDrawOffer;});var lang=useSelector(function(state){return state.appState.lang;});var gameResult=useSelector(function(state){return state.gameState.gameResult;});var socket=useContext(SocketContext);var pause=useSelector(function(state){return state.gameState.pause;});var playerInfo=useSelector(function(state){return state.appState.playerInfo;});var handlePauseOrResume=function handlePauseOrResume(event){var action=event.currentTarget.id;var actionInVi=action===\"Pause\"?\"Dừng\":\"Tiếp Tục\";var message={from:\"\".concat(playerInfo.username),message:lang===\"English\"?\"\".concat(action,\"d Game\"):\"\".concat(actionInVi,\" Tr\\u1EADn\"),className:\"game-message\"};dispatch({type:\"setMessage\",value:message});dispatch({type:\"setPause\",value:\"\".concat(playerInfo.username,\" \").concat(action,\"d Game\")});socket.emit(\"player\".concat(action,\"Game\"));};var handleOfferDraw=function handleOfferDraw(){if(!receiveDrawOffer){dispatch({type:\"setMessage\",value:{from:\"\".concat(playerInfo.username),message:lang===\"English\"?\"Offered A Draw\":\"Đề Nghị Hòa\",className:\"game-message\"}});socket.emit(\"sendDrawOffer\");}};var handleExit=function handleExit(){var width=document.querySelector(\".board-container\").offsetWidth;socket.emit(\"exitGame\");dispatch({type:\"resetBoardState\",value:width});dispatch({type:\"resetGameState\"});};return/*#__PURE__*/_jsxs(Col,{md:{span:4},xs:{span:10},className:\"game-controller mb-3 game-bar-controller\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"button-container game-bar\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"select-side-container\",children:[/*#__PURE__*/_jsxs(Button,{className:\"red-side draw-btn\",value:\"draw\",onClick:handleOfferDraw,disabled:gameResult!==null||pause,children:[\"\\xBD \",lang===\"English\"?\"Draw\":\"Hòa\"]}),/*#__PURE__*/_jsxs(Button,{className:\"black-side resign-btn\",value:\"resign\",onClick:props.handleResign,disabled:gameResult!==null||pause,children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-flag\"}),\" \",lang===\"English\"?\"Resign\":\"Thua\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"time-select-container\",children:/*#__PURE__*/_jsxs(Button,{className:\"select-timer pause-btn\",disabled:gameResult!==null||pause&&!/Paused/.test(pause),id:!pause?\"Pause\":\"Resume\",onClick:handlePauseOrResume,children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-\".concat(!pause?\"pause\":\"play\")}),\" \",!pause?lang===\"English\"?\"Pause\":\"Dừng\":lang===\"English\"?\"Resume\":\"Tiếp Tục\"]})})]}),/*#__PURE__*/_jsx(ChatSection,{}),/*#__PURE__*/_jsx(Button,{className:\"exit-game\",disabled:gameResult===null,onClick:handleExit,children:lang===\"English\"?\"Exit Game\":\"Rời Trận\"}),/*#__PURE__*/_jsx(Button,{className:\"center-board\",onClick:props.handleCenterBoard,children:lang===\"English\"?\"Center Board: \".concat(props.centerBoard?\"On\":\"Off\"):\"Canh Gi\\u1EEFa B\\xE0n C\\u1EDD:  \".concat(props.centerBoard?\"Bật\":\"Tắt\")})]});};export default GameBar;","map":{"version":3,"sources":["F:/Web/Cờ Tướng/front_end/src/Components/Main/Game/GameBar/GameBar.jsx"],"names":["React","useContext","SocketContext","Col","Button","ChatSection","useDispatch","useSelector","GameBar","props","dispatch","receiveDrawOffer","state","gameState","lang","appState","gameResult","socket","pause","playerInfo","handlePauseOrResume","event","action","currentTarget","id","actionInVi","message","from","username","className","type","value","emit","handleOfferDraw","handleExit","width","document","querySelector","offsetWidth","span","handleResign","test","handleCenterBoard","centerBoard"],"mappings":"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","sourcesContent":["import React, { useContext } from \"react\";\r\nimport { SocketContext } from \"../../../App/context.js\";\r\nimport { Col, Button } from \"react-bootstrap\";\r\nimport \"./GameBar.scss\";\r\nimport ChatSection from \"./ChatSection/ChatSection.jsx\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\n\r\nconst GameBar = (props) => {\r\n  const dispatch = useDispatch();\r\n  const receiveDrawOffer = useSelector(\r\n    (state) => state.gameState.receiveDrawOffer\r\n  );\r\n  const lang = useSelector((state) => state.appState.lang);\r\n  const gameResult = useSelector((state) => state.gameState.gameResult);\r\n  const socket = useContext(SocketContext);\r\n  const pause = useSelector((state) => state.gameState.pause);\r\n  const playerInfo = useSelector((state) => state.appState.playerInfo);\r\n\r\n  const handlePauseOrResume = (event) => {\r\n    const action = event.currentTarget.id;\r\n    const actionInVi = action === \"Pause\" ? \"Dừng\" : \"Tiếp Tục\";\r\n    const message = {\r\n      from: `${playerInfo.username}`,\r\n      message: lang === \"English\" ? `${action}d Game` : `${actionInVi} Trận`,\r\n      className: \"game-message\",\r\n    };\r\n    dispatch({ type: \"setMessage\", value: message });\r\n    dispatch({\r\n      type: \"setPause\",\r\n      value: `${playerInfo.username} ${action}d Game`,\r\n    });\r\n    socket.emit(`player${action}Game`);\r\n  };\r\n\r\n  const handleOfferDraw = () => {\r\n    if (!receiveDrawOffer) {\r\n      dispatch({\r\n        type: \"setMessage\",\r\n        value: {\r\n          from: `${playerInfo.username}`,\r\n          message: lang === \"English\" ? \"Offered A Draw\" : \"Đề Nghị Hòa\",\r\n          className: \"game-message\",\r\n        },\r\n      });\r\n      socket.emit(\"sendDrawOffer\");\r\n    }\r\n  };\r\n\r\n  const handleExit = () => {\r\n    const width = document.querySelector(\".board-container\").offsetWidth;\r\n    socket.emit(\"exitGame\");\r\n    dispatch({ type: \"resetBoardState\", value: width });\r\n    dispatch({ type: \"resetGameState\" });\r\n  };\r\n\r\n  return (\r\n    <Col\r\n      md={{ span: 4 }}\r\n      xs={{ span: 10 }}\r\n      className=\"game-controller mb-3 game-bar-controller\"\r\n    >\r\n      <div className=\"button-container game-bar\">\r\n        <div className=\"select-side-container\">\r\n          <Button\r\n            className=\"red-side draw-btn\"\r\n            value=\"draw\"\r\n            onClick={handleOfferDraw}\r\n            disabled={gameResult !== null || pause}\r\n          >\r\n            &#189; {lang === \"English\" ? \"Draw\" : \"Hòa\"}\r\n          </Button>\r\n          <Button\r\n            className=\"black-side resign-btn\"\r\n            value=\"resign\"\r\n            onClick={props.handleResign}\r\n            disabled={gameResult !== null || pause}\r\n          >\r\n            <i className=\"fas fa-flag\"></i>{\" \"}\r\n            {lang === \"English\" ? \"Resign\" : \"Thua\"}\r\n          </Button>\r\n        </div>\r\n        <div className=\"time-select-container\">\r\n          <Button\r\n            className=\"select-timer pause-btn\"\r\n            disabled={gameResult !== null || (pause && !/Paused/.test(pause))}\r\n            id={!pause ? \"Pause\" : \"Resume\"}\r\n            onClick={handlePauseOrResume}\r\n          >\r\n            <i className={`fas fa-${!pause ? \"pause\" : \"play\"}`}></i>{\" \"}\r\n            {!pause\r\n              ? lang === \"English\"\r\n                ? \"Pause\"\r\n                : \"Dừng\"\r\n              : lang === \"English\"\r\n              ? \"Resume\"\r\n              : \"Tiếp Tục\"}\r\n          </Button>\r\n        </div>\r\n      </div>\r\n      <ChatSection />\r\n      <Button\r\n        className=\"exit-game\"\r\n        disabled={gameResult === null}\r\n        onClick={handleExit}\r\n      >\r\n        {lang === \"English\" ? \"Exit Game\" : \"Rời Trận\"}\r\n      </Button>\r\n      <Button className=\"center-board\" onClick={props.handleCenterBoard}>\r\n        {lang === \"English\"\r\n          ? `Center Board: ${props.centerBoard ? \"On\" : \"Off\"}`\r\n          : `Canh Giữa Bàn Cờ:  ${props.centerBoard ? \"Bật\" : \"Tắt\"}`}\r\n      </Button>\r\n    </Col>\r\n  );\r\n};\r\n\r\nexport default GameBar;\r\n"]},"metadata":{},"sourceType":"module"}