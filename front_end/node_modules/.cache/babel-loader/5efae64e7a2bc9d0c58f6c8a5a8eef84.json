{"ast":null,"code":"import _slicedToArray from\"F:/Web/C\\u1EDD T\\u01B0\\u1EDBng/front_end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useContext,useEffect,useState}from\"react\";import{Col,Button}from\"react-bootstrap\";import PlayButton from\"./PlayButton/PlayButton.jsx\";import\"./GameController.scss\";import{useDispatch,useSelector,useStore}from\"react-redux\";import{SocketContext,SetMoveTimerContext}from\"../../../App/context.js\";import PlayWithFriend from\"./PlayWithFriend/PlayWithFriend.jsx\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var GameController=function GameController(props){var dispatch=useDispatch();var lang=useSelector(function(state){return state.appState.lang;});var _useState=useState(\"Play With Friend\"),_useState2=_slicedToArray(_useState,2),playWithFriendText=_useState2[0],setPlayWithFriendText=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),playWithFriend=_useState4[0],setPlayWithFriend=_useState4[1];var socket=useContext(SocketContext);var setMoveTimer=useContext(SetMoveTimerContext);var findingMatch=useSelector(function(state){return state.gameState.findingMatch;});var time=useSelector(function(state){return state.gameState.time;});var side=useSelector(function(state){return state.boardState.side;});var handlePlayWithFriend=function handlePlayWithFriend(){if(!socket.connected){setPlayWithFriendText(lang===\"English\"?\"Connection Was Closed\":\"Kết nối đã đóng\");setTimeout(function(){setPlayWithFriendText(lang===\"English\"?\"Play With Friend\":\"Chơi Với Bạn\");},700);}else setPlayWithFriend(!playWithFriend);};var handlePlay=function handlePlay(){if(!socket.connected){dispatch({type:\"setFindingMatch\",value:lang===\"English\"?\"Connection Was Closed\":\"Kết nối đã đóng\"});setTimeout(function(){dispatch({type:\"setFindingMatch\",value:lang===\"English\"?\"Play\":\"Chơi\"});},700);}else if(findingMatch!==true){socket.emit(\"setTimeAndSide\",+time,side[1],function(){socket.emit(\"findMatch\");dispatch({type:\"setFindingMatch\",value:true});});}else if(findingMatch===true)socket.emit(\"cancelFindMatch\");};var handleSelectTime=function handleSelectTime(event){var selectedTime=+event.currentTarget.getAttribute(\"value\");dispatch({type:\"setTime\",value:selectedTime});props.handleToggle();};var handleSwitchSide=function handleSwitchSide(event){var selectedSide=event.currentTarget.getAttribute(\"value\");if(selectedSide===\"black\"){dispatch({type:\"switchSide\",value:[\"red\",\"black\"]});socket.emit(\"setTimeAndSide\",+time,\"black\");}else{dispatch({type:\"switchSide\",value:[\"black\",\"red\"]});}};useEffect(function(){socket.on(\"timeout\",function(){dispatch({type:\"setFindingMatch\",value:\"No Players are currently online :(\"});});socket.on(\"foundMatch\",function(opponent,firstMove,time){dispatch({type:\"setFoundMatch\",value:true});dispatch({type:\"setOpponentInfo\",value:{playername:opponent.playername,photo:opponent.photo}});dispatch({type:\"setTime\",value:time});dispatch({type:\"setTurnToMove\",value:firstMove});setMoveTimer(firstMove,false,dispatch);});socket.on(\"findMatchCanceled\",function(){dispatch({type:\"setFindingMatch\",value:lang===\"English\"?\"Play\":\"Chơi\"});});socket.emit(\"eventHandlersRegistered\");return function(){socket.emit(\"cancelFindMatch\");};},[]);useEffect(function(){setPlayWithFriendText(lang===\"English\"?\"Play With Friend\":\"Chơi Với Bạn\");dispatch({type:\"setFindingMatch\",value:lang===\"English\"?\"Play\":\"Chơi\"});},[]);return/*#__PURE__*/_jsx(Col,{md:{span:4},xs:{span:10},className:\"game-controller mb-3\",children:!playWithFriend?/*#__PURE__*/_jsxs(\"div\",{className:\"button-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"select-side-container\",children:[/*#__PURE__*/_jsx(Button,{className:\"red-side\",value:\"red\",onClick:handleSwitchSide,disabled:findingMatch===true||findingMatch===\"Waiting...\",children:lang===\"English\"?\"Red\":\"Đỏ\"}),/*#__PURE__*/_jsx(Button,{className:\"black-side\",value:\"black\",onClick:handleSwitchSide,disabled:findingMatch===true||findingMatch===\"Waiting...\",children:lang===\"English\"?\"Black\":\"Đen\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"time-select-container\",children:[/*#__PURE__*/_jsxs(Button,{className:\"select-timer\",onClick:props.handleToggle,disabled:findingMatch===true||findingMatch===\"Waiting...\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-clock\"}),\" \",time+\":00\",\" \",/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-angle-down\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"time-select-table\",style:{display:props.timeSelectorDisplay},children:[/*#__PURE__*/_jsxs(Button,{onClick:handleSelectTime,value:\"1\",children:[\"1 \",lang===\"English\"?\"min\":\"phút\"]}),/*#__PURE__*/_jsxs(Button,{onClick:handleSelectTime,value:\"3\",children:[\"3 \",lang===\"English\"?\"min\":\"phút\"]}),/*#__PURE__*/_jsxs(Button,{onClick:handleSelectTime,value:\"5\",children:[\"5 \",lang===\"English\"?\"min\":\"phút\"]}),/*#__PURE__*/_jsxs(Button,{onClick:handleSelectTime,value:\"10\",children:[\"10 \",lang===\"English\"?\"min\":\"phút\"]}),/*#__PURE__*/_jsxs(Button,{onClick:handleSelectTime,value:\"15\",children:[\"15 \",lang===\"English\"?\"min\":\"phút\"]}),/*#__PURE__*/_jsxs(Button,{onClick:handleSelectTime,value:\"30\",children:[\"30 \",lang===\"English\"?\"min\":\"phút\"]})]})]}),/*#__PURE__*/_jsx(PlayButton,{findingMatch:findingMatch,handlePlay:handlePlay,lang:lang}),/*#__PURE__*/_jsx(Button,{className:\"play-with-friend\",disabled:findingMatch===true||findingMatch===\"Waiting...\",onClick:handlePlayWithFriend,children:playWithFriendText}),/*#__PURE__*/_jsx(Button,{className:\"center-board\",onClick:props.handleCenterBoard,children:lang===\"English\"?\"Center Board: \".concat(props.centerBoard?\"On\":\"Off\"):\"Canh Gi\\u1EEFa B\\xE0n C\\u1EDD:  \".concat(props.centerBoard?\"Bật\":\"Tắt\")})]}):/*#__PURE__*/_jsx(PlayWithFriend,{goBack:handlePlayWithFriend,lang:lang})});};export default GameController;","map":{"version":3,"sources":["F:/Web/Cờ Tướng/front_end/src/Components/Main/Game/GameController/GameController.jsx"],"names":["React","useContext","useEffect","useState","Col","Button","PlayButton","useDispatch","useSelector","useStore","SocketContext","SetMoveTimerContext","PlayWithFriend","GameController","props","dispatch","lang","state","appState","playWithFriendText","setPlayWithFriendText","playWithFriend","setPlayWithFriend","socket","setMoveTimer","findingMatch","gameState","time","side","boardState","handlePlayWithFriend","connected","setTimeout","handlePlay","type","value","emit","handleSelectTime","event","selectedTime","currentTarget","getAttribute","handleToggle","handleSwitchSide","selectedSide","on","opponent","firstMove","playername","photo","span","display","timeSelectorDisplay","handleCenterBoard","centerBoard"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useState } from \"react\";\r\nimport { Col, Button } from \"react-bootstrap\";\r\nimport PlayButton from \"./PlayButton/PlayButton.jsx\";\r\nimport \"./GameController.scss\";\r\nimport { useDispatch, useSelector, useStore } from \"react-redux\";\r\nimport { SocketContext, SetMoveTimerContext } from \"../../../App/context.js\";\r\nimport PlayWithFriend from \"./PlayWithFriend/PlayWithFriend.jsx\";\r\n\r\nconst GameController = (props) => {\r\n  const dispatch = useDispatch();\r\n  const lang = useSelector((state) => state.appState.lang);\r\n  const [playWithFriendText, setPlayWithFriendText] = useState(\r\n    \"Play With Friend\"\r\n  );\r\n  const [playWithFriend, setPlayWithFriend] = useState(false);\r\n  const socket = useContext(SocketContext);\r\n  const setMoveTimer = useContext(SetMoveTimerContext);\r\n  const findingMatch = useSelector((state) => state.gameState.findingMatch);\r\n  const time = useSelector((state) => state.gameState.time);\r\n  const side = useSelector((state) => state.boardState.side);\r\n\r\n  const handlePlayWithFriend = () => {\r\n    if (!socket.connected) {\r\n      setPlayWithFriendText(\r\n        lang === \"English\" ? \"Connection Was Closed\" : \"Kết nối đã đóng\"\r\n      );\r\n      setTimeout(() => {\r\n        setPlayWithFriendText(\r\n          lang === \"English\" ? \"Play With Friend\" : \"Chơi Với Bạn\"\r\n        );\r\n      }, 700);\r\n    } else setPlayWithFriend(!playWithFriend);\r\n  };\r\n\r\n  const handlePlay = () => {\r\n    if (!socket.connected) {\r\n      dispatch({\r\n        type: \"setFindingMatch\",\r\n        value: lang === \"English\" ? \"Connection Was Closed\" : \"Kết nối đã đóng\",\r\n      });\r\n      setTimeout(() => {\r\n        dispatch({\r\n          type: \"setFindingMatch\",\r\n          value: lang === \"English\" ? \"Play\" : \"Chơi\",\r\n        });\r\n      }, 700);\r\n    } else if (findingMatch !== true) {\r\n      socket.emit(\"setTimeAndSide\", +time, side[1], () => {\r\n        socket.emit(\"findMatch\");\r\n        dispatch({ type: \"setFindingMatch\", value: true });\r\n      });\r\n    } else if (findingMatch === true) socket.emit(\"cancelFindMatch\");\r\n  };\r\n\r\n  const handleSelectTime = (event) => {\r\n    const selectedTime = +event.currentTarget.getAttribute(\"value\");\r\n    dispatch({ type: \"setTime\", value: selectedTime });\r\n    props.handleToggle();\r\n  };\r\n\r\n  const handleSwitchSide = (event) => {\r\n    const selectedSide = event.currentTarget.getAttribute(\"value\");\r\n    if (selectedSide === \"black\") {\r\n      dispatch({ type: \"switchSide\", value: [\"red\", \"black\"] });\r\n      socket.emit(\"setTimeAndSide\", +time, \"black\");\r\n    } else {\r\n      dispatch({ type: \"switchSide\", value: [\"black\", \"red\"] });\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    socket.on(\"timeout\", () => {\r\n      dispatch({\r\n        type: \"setFindingMatch\",\r\n        value: \"No Players are currently online :(\",\r\n      });\r\n    });\r\n\r\n    socket.on(\"foundMatch\", (opponent, firstMove, time) => {\r\n      dispatch({ type: \"setFoundMatch\", value: true });\r\n      dispatch({\r\n        type: \"setOpponentInfo\",\r\n        value: {\r\n          playername: opponent.playername,\r\n          photo: opponent.photo,\r\n        },\r\n      });\r\n\r\n      dispatch({ type: \"setTime\", value: time });\r\n      dispatch({ type: \"setTurnToMove\", value: firstMove });\r\n      setMoveTimer(firstMove, false, dispatch);\r\n    });\r\n\r\n    socket.on(\"findMatchCanceled\", () => {\r\n      dispatch({\r\n        type: \"setFindingMatch\",\r\n        value: lang === \"English\" ? \"Play\" : \"Chơi\",\r\n      });\r\n    });\r\n\r\n    socket.emit(\"eventHandlersRegistered\");\r\n\r\n    return () => {\r\n      socket.emit(\"cancelFindMatch\");\r\n    };\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    setPlayWithFriendText(\r\n      lang === \"English\" ? \"Play With Friend\" : \"Chơi Với Bạn\"\r\n    );\r\n    dispatch({\r\n      type: \"setFindingMatch\",\r\n      value: lang === \"English\" ? \"Play\" : \"Chơi\",\r\n    });\r\n  }, []);\r\n\r\n  return (\r\n    <Col md={{ span: 4 }} xs={{ span: 10 }} className=\"game-controller mb-3\">\r\n      {!playWithFriend ? (\r\n        <div className=\"button-container\">\r\n          <div className=\"select-side-container\">\r\n            <Button\r\n              className=\"red-side\"\r\n              value=\"red\"\r\n              onClick={handleSwitchSide}\r\n              disabled={findingMatch === true || findingMatch === \"Waiting...\"}\r\n            >\r\n              {lang === \"English\" ? \"Red\" : \"Đỏ\"}\r\n            </Button>\r\n            <Button\r\n              className=\"black-side\"\r\n              value=\"black\"\r\n              onClick={handleSwitchSide}\r\n              disabled={findingMatch === true || findingMatch === \"Waiting...\"}\r\n            >\r\n              {lang === \"English\" ? \"Black\" : \"Đen\"}\r\n            </Button>\r\n          </div>\r\n          <div className=\"time-select-container\">\r\n            <Button\r\n              className=\"select-timer\"\r\n              onClick={props.handleToggle}\r\n              disabled={findingMatch === true || findingMatch === \"Waiting...\"}\r\n            >\r\n              <i className=\"fas fa-clock\"></i> {time + \":00\"}{\" \"}\r\n              <i className=\"fas fa-angle-down\"></i>\r\n            </Button>\r\n            <div\r\n              className=\"time-select-table\"\r\n              style={{ display: props.timeSelectorDisplay }}\r\n            >\r\n              <Button onClick={handleSelectTime} value=\"1\">\r\n                1 {lang === \"English\" ? \"min\" : \"phút\"}\r\n              </Button>\r\n              <Button onClick={handleSelectTime} value=\"3\">\r\n                3 {lang === \"English\" ? \"min\" : \"phút\"}\r\n              </Button>\r\n              <Button onClick={handleSelectTime} value=\"5\">\r\n                5 {lang === \"English\" ? \"min\" : \"phút\"}\r\n              </Button>\r\n              <Button onClick={handleSelectTime} value=\"10\">\r\n                10 {lang === \"English\" ? \"min\" : \"phút\"}\r\n              </Button>\r\n              <Button onClick={handleSelectTime} value=\"15\">\r\n                15 {lang === \"English\" ? \"min\" : \"phút\"}\r\n              </Button>\r\n              <Button onClick={handleSelectTime} value=\"30\">\r\n                30 {lang === \"English\" ? \"min\" : \"phút\"}\r\n              </Button>\r\n            </div>\r\n          </div>\r\n          <PlayButton\r\n            findingMatch={findingMatch}\r\n            handlePlay={handlePlay}\r\n            lang={lang}\r\n          />\r\n\r\n          <Button\r\n            className=\"play-with-friend\"\r\n            disabled={findingMatch === true || findingMatch === \"Waiting...\"}\r\n            onClick={handlePlayWithFriend}\r\n          >\r\n            {playWithFriendText}\r\n          </Button>\r\n          <Button className=\"center-board\" onClick={props.handleCenterBoard}>\r\n            {lang === \"English\"\r\n              ? `Center Board: ${props.centerBoard ? \"On\" : \"Off\"}`\r\n              : `Canh Giữa Bàn Cờ:  ${props.centerBoard ? \"Bật\" : \"Tắt\"}`}\r\n          </Button>\r\n        </div>\r\n      ) : (\r\n        <PlayWithFriend goBack={handlePlayWithFriend} lang={lang} />\r\n      )}\r\n    </Col>\r\n  );\r\n};\r\n\r\nexport default GameController;\r\n"]},"metadata":{},"sourceType":"module"}