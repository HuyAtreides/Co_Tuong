{"ast":null,"code":"import _regeneratorRuntime from\"F:/Web/C\\u1EDD T\\u01B0\\u1EDBng/front_end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"F:/Web/C\\u1EDD T\\u01B0\\u1EDBng/front_end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"F:/Web/C\\u1EDD T\\u01B0\\u1EDBng/front_end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useContext}from\"react\";import{AuthenticateUserContext}from\"../App/context.js\";import callAPI from\"../App/callAPI.js\";import useValidateInput from\"../Signup/useValidateInput.js\";import{Container,Form,InputGroup,Button,Spinner,Row,Col}from\"react-bootstrap\";import{useDispatch,useSelector}from\"react-redux\";import{Link,Redirect}from\"react-router-dom\";import\"./SignIn.scss\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=function Login(){var dispatch=useDispatch();var authenticateUser=useContext(AuthenticateUserContext);var _useState=useState(false),_useState2=_slicedToArray(_useState,2),successfullyLogin=_useState2[0],setSuccessfullyLogin=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),waitForResponse=_useState4[0],setWaitForResponse=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),waitForServer=_useState6[0],setWaitForServer=_useState6[1];var loginError=useSelector(function(state){return state.appState.loginError;});var lang=useSelector(function(state){return state.appState.lang;});var isAuthenticated=useSelector(function(state){return state.appState.isAuthenticated;});var _useValidateInput=useValidateInput(true,false,lang),setError=_useValidateInput.setError,error=_useValidateInput.error,username=_useValidateInput.username,password=_useValidateInput.password,handleError=_useValidateInput.handleError,handleUsernameChange=_useValidateInput.handleUsernameChange,handlePasswordChange=_useValidateInput.handlePasswordChange,invalidPasswordMess=_useValidateInput.invalidPasswordMess,invalidUsernameMess=_useValidateInput.invalidUsernameMess,handleMissingField=_useValidateInput.handleMissingField;var handleLogin=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){var missingField,_yield$callAPI,message,user,ok,opponentID;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;event.preventDefault();if(!(waitForResponse||waitForServer)){_context.next=4;break;}return _context.abrupt(\"return\");case 4:setError(\"\");missingField=handleMissingField();if(!(!missingField&&!invalidPasswordMess&&!invalidUsernameMess)){_context.next=18;break;}setError(null);setWaitForResponse(true);_context.next=11;return callAPI(\"POST\",\"api/login\",{username:username,password:password});case 11:_yield$callAPI=_context.sent;message=_yield$callAPI.message;user=_yield$callAPI.user;ok=_yield$callAPI.ok;opponentID=_yield$callAPI.opponentID;setWaitForResponse(false);if(user){authenticateUser(dispatch,user,opponentID);}else handleError(ok,message);case 18:_context.next=24;break;case 20:_context.prev=20;_context.t0=_context[\"catch\"](0);setWaitForResponse(false);handleError(false,_context.t0.toString());case 24:case\"end\":return _context.stop();}}},_callee,null,[[0,20]]);}));return function handleLogin(_x){return _ref.apply(this,arguments);};}();var handleLoginAsGuest=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var _yield$callAPI2,user,opponentID;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;if(!(waitForResponse||waitForServer)){_context2.next=3;break;}return _context2.abrupt(\"return\");case 3:setError(\"\");if(!(isAuthenticated===\"guest\")){_context2.next=8;break;}setSuccessfullyLogin(true);_context2.next=17;break;case 8:setWaitForServer(true);_context2.next=11;return callAPI(\"GET\",\"api/login-as-guest\",null);case 11:_yield$callAPI2=_context2.sent;user=_yield$callAPI2.user;opponentID=_yield$callAPI2.opponentID;setWaitForServer(false);setSuccessfullyLogin(true);authenticateUser(dispatch,user,opponentID);case 17:_context2.next=23;break;case 19:_context2.prev=19;_context2.t0=_context2[\"catch\"](0);setWaitForServer(false);handleError(false,_context2.t0.toString());case 23:case\"end\":return _context2.stop();}}},_callee2,null,[[0,19]]);}));return function handleLoginAsGuest(){return _ref2.apply(this,arguments);};}();if(loginError)handleError(false,loginError);else if(isAuthenticated){if(isAuthenticated!==\"guest\"){return/*#__PURE__*/_jsx(Redirect,{to:\"/\"});}else if(successfullyLogin)return/*#__PURE__*/_jsx(Redirect,{to:\"/\"});}return/*#__PURE__*/_jsxs(Container,{fluid:true,children:[/*#__PURE__*/_jsx(\"h1\",{children:lang===\"English\"?\"Xiangqi\":\"Cờ Tướng\"}),/*#__PURE__*/_jsx(Row,{className:\"justify-content-center\",children:/*#__PURE__*/_jsxs(Col,{md:{span:7},sm:{span:7},xs:{span:10},className:\"login-component d-flex flex-column  align-items-center\",children:[error?/*#__PURE__*/_jsx(\"p\",{className:\"error-message\",children:error}):null,/*#__PURE__*/_jsxs(Form,{onSubmit:handleLogin,method:\"POST\",children:[/*#__PURE__*/_jsx(Form.Group,{controlId:\"username-or-email\",children:/*#__PURE__*/_jsxs(InputGroup,{hasValidation:true,children:[/*#__PURE__*/_jsx(Form.Control,{type:\"text\",isInvalid:invalidUsernameMess!==\"\",placeholder:lang===\"English\"?\"Username or Email\":\"Tên tài khoản hoặc Email\",onChange:handleUsernameChange,value:username,disabled:waitForResponse||waitForServer}),/*#__PURE__*/_jsx(Form.Control.Feedback,{type:\"invalid\",children:invalidUsernameMess})]})}),/*#__PURE__*/_jsx(Form.Group,{controlId:\"password\",children:/*#__PURE__*/_jsxs(InputGroup,{hasValidation:true,children:[/*#__PURE__*/_jsx(Form.Control,{type:\"password\",isInvalid:invalidPasswordMess!==\"\",placeholder:lang===\"Engish\"?\"Password\":\"Mật Khẩu\",onChange:handlePasswordChange,value:password,disabled:waitForResponse||waitForServer}),/*#__PURE__*/_jsx(Form.Control.Feedback,{type:\"invalid\",children:invalidPasswordMess})]})}),/*#__PURE__*/_jsx(Button,{type:\"submit\",className:\"submit-form-button\",children:waitForResponse?/*#__PURE__*/_jsx(Spinner,{animation:\"border\",variant:\"dark\"}):lang===\"English\"?\"Log In\":\"Đăng Nhập\"}),/*#__PURE__*/_jsx(Button,{className:\"log-in-as-guest\",onClick:handleLoginAsGuest,children:waitForServer?/*#__PURE__*/_jsx(Spinner,{animation:\"border\",variant:\"dark\"}):lang===\"English\"?\"Log In As Guest\":\"Khách\"})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"seperator\",children:[/*#__PURE__*/_jsx(\"span\",{}),/*#__PURE__*/_jsx(\"span\",{className:\"seperator-text\",children:lang===\"English\"?\"or connect with\":\"hoặc đăng nhập với\"}),/*#__PURE__*/_jsx(\"span\",{})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"social-login\",children:[/*#__PURE__*/_jsxs(\"a\",{className:\"google\",href:\"http://localhost:8080/api/auth/google\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fab fa-google\"}),\" Google\"]}),/*#__PURE__*/_jsxs(\"a\",{className:\"facebook\",href:\"http://localhost:8080/api/auth/facebook\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fab fa-facebook \"}),\" Facebook\"]}),/*#__PURE__*/_jsxs(\"a\",{className:\"github\",href:\"http://localhost:8080/api/auth/github\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fab fa-github \"}),\" Github\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"sign-up-area\",children:/*#__PURE__*/_jsx(Link,{to:\"/signup\",children:lang===\"English\"?\"Sign Up\":\"Đăng Ký\"})})]})})]});};export default Login;","map":{"version":3,"sources":["F:/Web/Cờ Tướng/front_end/src/Components/SignIn/SignIn.jsx"],"names":["React","useState","useContext","AuthenticateUserContext","callAPI","useValidateInput","Container","Form","InputGroup","Button","Spinner","Row","Col","useDispatch","useSelector","Link","Redirect","Login","dispatch","authenticateUser","successfullyLogin","setSuccessfullyLogin","waitForResponse","setWaitForResponse","waitForServer","setWaitForServer","loginError","state","appState","lang","isAuthenticated","setError","error","username","password","handleError","handleUsernameChange","handlePasswordChange","invalidPasswordMess","invalidUsernameMess","handleMissingField","handleLogin","event","preventDefault","missingField","message","user","ok","opponentID","toString","handleLoginAsGuest","span"],"mappings":"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","sourcesContent":["import React, { useState, useContext } from \"react\";\r\nimport { AuthenticateUserContext } from \"../App/context.js\";\r\nimport callAPI from \"../App/callAPI.js\";\r\nimport useValidateInput from \"../Signup/useValidateInput.js\";\r\nimport {\r\n  Container,\r\n  Form,\r\n  InputGroup,\r\n  Button,\r\n  Spinner,\r\n  Row,\r\n  Col,\r\n} from \"react-bootstrap\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Link, Redirect } from \"react-router-dom\";\r\nimport \"./SignIn.scss\";\r\n\r\nconst Login = () => {\r\n  const dispatch = useDispatch();\r\n  const authenticateUser = useContext(AuthenticateUserContext);\r\n  const [successfullyLogin, setSuccessfullyLogin] = useState(false);\r\n  const [waitForResponse, setWaitForResponse] = useState(false);\r\n  const [waitForServer, setWaitForServer] = useState(false);\r\n  const loginError = useSelector((state) => state.appState.loginError);\r\n  const lang = useSelector((state) => state.appState.lang);\r\n  const isAuthenticated = useSelector(\r\n    (state) => state.appState.isAuthenticated\r\n  );\r\n\r\n  const {\r\n    setError,\r\n    error,\r\n    username,\r\n    password,\r\n    handleError,\r\n    handleUsernameChange,\r\n    handlePasswordChange,\r\n    invalidPasswordMess,\r\n    invalidUsernameMess,\r\n    handleMissingField,\r\n  } = useValidateInput(true, false, lang);\r\n\r\n  const handleLogin = async (event) => {\r\n    try {\r\n      event.preventDefault();\r\n      if (waitForResponse || waitForServer) return;\r\n      setError(\"\");\r\n      const missingField = handleMissingField();\r\n      if (!missingField && !invalidPasswordMess && !invalidUsernameMess) {\r\n        setError(null);\r\n        setWaitForResponse(true);\r\n        const { message, user, ok, opponentID } = await callAPI(\r\n          \"POST\",\r\n          \"api/login\",\r\n          {\r\n            username: username,\r\n            password: password,\r\n          }\r\n        );\r\n        setWaitForResponse(false);\r\n        if (user) {\r\n          authenticateUser(dispatch, user, opponentID);\r\n        } else handleError(ok, message);\r\n      }\r\n    } catch (err) {\r\n      setWaitForResponse(false);\r\n      handleError(false, err.toString());\r\n    }\r\n  };\r\n\r\n  const handleLoginAsGuest = async () => {\r\n    try {\r\n      if (waitForResponse || waitForServer) return;\r\n      setError(\"\");\r\n      if (isAuthenticated === \"guest\") setSuccessfullyLogin(true);\r\n      else {\r\n        setWaitForServer(true);\r\n        const { user, opponentID } = await callAPI(\r\n          \"GET\",\r\n          \"api/login-as-guest\",\r\n          null\r\n        );\r\n        setWaitForServer(false);\r\n        setSuccessfullyLogin(true);\r\n        authenticateUser(dispatch, user, opponentID);\r\n      }\r\n    } catch (err) {\r\n      setWaitForServer(false);\r\n      handleError(false, err.toString());\r\n    }\r\n  };\r\n\r\n  if (loginError) handleError(false, loginError);\r\n  else if (isAuthenticated) {\r\n    if (isAuthenticated !== \"guest\") {\r\n      return <Redirect to=\"/\" />;\r\n    } else if (successfullyLogin) return <Redirect to=\"/\" />;\r\n  }\r\n\r\n  return (\r\n    <Container fluid>\r\n      <h1>{lang === \"English\" ? \"Xiangqi\" : \"Cờ Tướng\"}</h1>\r\n      <Row className=\"justify-content-center\">\r\n        <Col\r\n          md={{ span: 7 }}\r\n          sm={{ span: 7 }}\r\n          xs={{ span: 10 }}\r\n          className=\"login-component d-flex flex-column  align-items-center\"\r\n        >\r\n          {error ? <p className=\"error-message\">{error}</p> : null}\r\n          <Form onSubmit={handleLogin} method=\"POST\">\r\n            <Form.Group controlId=\"username-or-email\">\r\n              <InputGroup hasValidation>\r\n                <Form.Control\r\n                  type=\"text\"\r\n                  isInvalid={invalidUsernameMess !== \"\"}\r\n                  placeholder={\r\n                    lang === \"English\"\r\n                      ? \"Username or Email\"\r\n                      : \"Tên tài khoản hoặc Email\"\r\n                  }\r\n                  onChange={handleUsernameChange}\r\n                  value={username}\r\n                  disabled={waitForResponse || waitForServer}\r\n                />\r\n                <Form.Control.Feedback type=\"invalid\">\r\n                  {invalidUsernameMess}\r\n                </Form.Control.Feedback>\r\n              </InputGroup>\r\n            </Form.Group>\r\n\r\n            <Form.Group controlId=\"password\">\r\n              <InputGroup hasValidation>\r\n                <Form.Control\r\n                  type=\"password\"\r\n                  isInvalid={invalidPasswordMess !== \"\"}\r\n                  placeholder={lang === \"Engish\" ? \"Password\" : \"Mật Khẩu\"}\r\n                  onChange={handlePasswordChange}\r\n                  value={password}\r\n                  disabled={waitForResponse || waitForServer}\r\n                />\r\n                <Form.Control.Feedback type=\"invalid\">\r\n                  {invalidPasswordMess}\r\n                </Form.Control.Feedback>\r\n              </InputGroup>\r\n            </Form.Group>\r\n            <Button type=\"submit\" className=\"submit-form-button\">\r\n              {waitForResponse ? (\r\n                <Spinner animation=\"border\" variant=\"dark\" />\r\n              ) : lang === \"English\" ? (\r\n                \"Log In\"\r\n              ) : (\r\n                \"Đăng Nhập\"\r\n              )}\r\n            </Button>\r\n            <Button className=\"log-in-as-guest\" onClick={handleLoginAsGuest}>\r\n              {waitForServer ? (\r\n                <Spinner animation=\"border\" variant=\"dark\" />\r\n              ) : lang === \"English\" ? (\r\n                \"Log In As Guest\"\r\n              ) : (\r\n                \"Khách\"\r\n              )}\r\n            </Button>\r\n          </Form>\r\n          <p className=\"seperator\">\r\n            <span></span>\r\n            <span className=\"seperator-text\">\r\n              {lang === \"English\" ? \"or connect with\" : \"hoặc đăng nhập với\"}\r\n            </span>\r\n            <span></span>\r\n          </p>\r\n          <div className=\"social-login\">\r\n            <a className=\"google\" href=\"http://localhost:8080/api/auth/google\">\r\n              <i className=\"fab fa-google\"></i> Google\r\n            </a>\r\n            <a\r\n              className=\"facebook\"\r\n              href=\"http://localhost:8080/api/auth/facebook\"\r\n            >\r\n              <i className=\"fab fa-facebook \"></i> Facebook\r\n            </a>\r\n            <a className=\"github\" href=\"http://localhost:8080/api/auth/github\">\r\n              <i className=\"fab fa-github \"></i> Github\r\n            </a>\r\n          </div>\r\n          <div className=\"sign-up-area\">\r\n            <Link to=\"/signup\">\r\n              {lang === \"English\" ? \"Sign Up\" : \"Đăng Ký\"}\r\n            </Link>\r\n          </div>\r\n        </Col>\r\n      </Row>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n"]},"metadata":{},"sourceType":"module"}