{"ast":null,"code":"class Piece {\n  constructor(width, row, col, name, side) {\n    this.width = width;\n    this.position = [row, col];\n    this.name = name;\n    this.side = side;\n    this.translate = `translate(${width * col}, ${width * row})`;\n  }\n\n  move(x, y) {\n    const translate = `translate(${x - this.width / 2}, ${y - this.width / 2})`;\n    this.translate = translate;\n  }\n\n  validMove(moveRow, moveCol) {\n    const valid = this.moves.some(move => {\n      return move[0] === Math.abs(moveRow) && move[1] === Math.abs(moveCol);\n    });\n    return valid;\n  }\n\n  setPostion(newRow, newCol) {\n    const [translateX, translateY] = [newCol * this.width, newRow * this.width];\n    const translate = `translate(${translateX}, ${translateY})`;\n    this.position = [newRow, newCol];\n    this.translate = translate;\n    return [newRow, newCol];\n  }\n\n  setNewPostion(x, y, board) {\n    const newCol = Math.floor(x / this.width);\n    const newRow = Math.floor(y / this.width);\n    const [curRow, curCol] = this.position;\n    this.translate = `translate(${curCol * this.width}, ${curRow * this.width})`;\n\n    if (newCol >= 0 && newCol < 9 && newRow >= 0 && newRow < 10) {\n      if (board[newRow][newCol].side !== board[curRow][curCol].side) {\n        return this.setPostion(newRow, newCol);\n      }\n    }\n  }\n\n}\n\nexport default Piece;","map":{"version":3,"sources":["F:/Web/Cờ Tướng/front_end/src/pieces/piece.js"],"names":["Piece","constructor","width","row","col","name","side","position","translate","move","x","y","validMove","moveRow","moveCol","valid","moves","some","Math","abs","setPostion","newRow","newCol","translateX","translateY","setNewPostion","board","floor","curRow","curCol"],"mappings":"AAAA,MAAMA,KAAN,CAAY;AACVC,EAAAA,WAAW,CAACC,KAAD,EAAQC,GAAR,EAAaC,GAAb,EAAkBC,IAAlB,EAAwBC,IAAxB,EAA8B;AACvC,SAAKJ,KAAL,GAAaA,KAAb;AACA,SAAKK,QAAL,GAAgB,CAACJ,GAAD,EAAMC,GAAN,CAAhB;AACA,SAAKC,IAAL,GAAYA,IAAZ;AACA,SAAKC,IAAL,GAAYA,IAAZ;AACA,SAAKE,SAAL,GAAkB,aAAYN,KAAK,GAAGE,GAAI,KAAIF,KAAK,GAAGC,GAAI,GAA1D;AACD;;AAEDM,EAAAA,IAAI,CAACC,CAAD,EAAIC,CAAJ,EAAO;AACT,UAAMH,SAAS,GAAI,aAAYE,CAAC,GAAG,KAAKR,KAAL,GAAa,CAAE,KAAIS,CAAC,GAAG,KAAKT,KAAL,GAAa,CAAE,GAAzE;AACA,SAAKM,SAAL,GAAiBA,SAAjB;AACD;;AAEDI,EAAAA,SAAS,CAACC,OAAD,EAAUC,OAAV,EAAmB;AAC1B,UAAMC,KAAK,GAAG,KAAKC,KAAL,CAAWC,IAAX,CAAiBR,IAAD,IAAU;AACtC,aAAOA,IAAI,CAAC,CAAD,CAAJ,KAAYS,IAAI,CAACC,GAAL,CAASN,OAAT,CAAZ,IAAiCJ,IAAI,CAAC,CAAD,CAAJ,KAAYS,IAAI,CAACC,GAAL,CAASL,OAAT,CAApD;AACD,KAFa,CAAd;AAGA,WAAOC,KAAP;AACD;;AAEDK,EAAAA,UAAU,CAACC,MAAD,EAASC,MAAT,EAAiB;AACzB,UAAM,CAACC,UAAD,EAAaC,UAAb,IAA2B,CAACF,MAAM,GAAG,KAAKpB,KAAf,EAAsBmB,MAAM,GAAG,KAAKnB,KAApC,CAAjC;AACA,UAAMM,SAAS,GAAI,aAAYe,UAAW,KAAIC,UAAW,GAAzD;AACA,SAAKjB,QAAL,GAAgB,CAACc,MAAD,EAASC,MAAT,CAAhB;AACA,SAAKd,SAAL,GAAiBA,SAAjB;AACA,WAAO,CAACa,MAAD,EAASC,MAAT,CAAP;AACD;;AAEDG,EAAAA,aAAa,CAACf,CAAD,EAAIC,CAAJ,EAAOe,KAAP,EAAc;AACzB,UAAMJ,MAAM,GAAGJ,IAAI,CAACS,KAAL,CAAWjB,CAAC,GAAG,KAAKR,KAApB,CAAf;AACA,UAAMmB,MAAM,GAAGH,IAAI,CAACS,KAAL,CAAWhB,CAAC,GAAG,KAAKT,KAApB,CAAf;AACA,UAAM,CAAC0B,MAAD,EAASC,MAAT,IAAmB,KAAKtB,QAA9B;AACA,SAAKC,SAAL,GAAkB,aAAYqB,MAAM,GAAG,KAAK3B,KAAM,KAChD0B,MAAM,GAAG,KAAK1B,KACf,GAFD;;AAGA,QAAIoB,MAAM,IAAI,CAAV,IAAeA,MAAM,GAAG,CAAxB,IAA6BD,MAAM,IAAI,CAAvC,IAA4CA,MAAM,GAAG,EAAzD,EAA6D;AAC3D,UAAIK,KAAK,CAACL,MAAD,CAAL,CAAcC,MAAd,EAAsBhB,IAAtB,KAA+BoB,KAAK,CAACE,MAAD,CAAL,CAAcC,MAAd,EAAsBvB,IAAzD,EAA+D;AAC7D,eAAO,KAAKc,UAAL,CAAgBC,MAAhB,EAAwBC,MAAxB,CAAP;AACD;AACF;AACF;;AAzCS;;AA4CZ,eAAetB,KAAf","sourcesContent":["class Piece {\r\n  constructor(width, row, col, name, side) {\r\n    this.width = width;\r\n    this.position = [row, col];\r\n    this.name = name;\r\n    this.side = side;\r\n    this.translate = `translate(${width * col}, ${width * row})`;\r\n  }\r\n\r\n  move(x, y) {\r\n    const translate = `translate(${x - this.width / 2}, ${y - this.width / 2})`;\r\n    this.translate = translate;\r\n  }\r\n\r\n  validMove(moveRow, moveCol) {\r\n    const valid = this.moves.some((move) => {\r\n      return move[0] === Math.abs(moveRow) && move[1] === Math.abs(moveCol);\r\n    });\r\n    return valid;\r\n  }\r\n\r\n  setPostion(newRow, newCol) {\r\n    const [translateX, translateY] = [newCol * this.width, newRow * this.width];\r\n    const translate = `translate(${translateX}, ${translateY})`;\r\n    this.position = [newRow, newCol];\r\n    this.translate = translate;\r\n    return [newRow, newCol];\r\n  }\r\n\r\n  setNewPostion(x, y, board) {\r\n    const newCol = Math.floor(x / this.width);\r\n    const newRow = Math.floor(y / this.width);\r\n    const [curRow, curCol] = this.position;\r\n    this.translate = `translate(${curCol * this.width}, ${\r\n      curRow * this.width\r\n    })`;\r\n    if (newCol >= 0 && newCol < 9 && newRow >= 0 && newRow < 10) {\r\n      if (board[newRow][newCol].side !== board[curRow][curCol].side) {\r\n        return this.setPostion(newRow, newCol);\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nexport default Piece;\r\n"]},"metadata":{},"sourceType":"module"}